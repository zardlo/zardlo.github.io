<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<link href="../css/style.css" rel="stylesheet" type="text/css" />
<link href="../css/NavBtm.css" rel="stylesheet" type="text/css" />
<script src="../js/jquery.js" language="javascript" type="text/javascript"></script>
<script src="../js/AlertCheckbox.js" language="javascript" type="text/javascript"></script>
<script type="text/javascript" src="SoftKey/vk_loader.js?vk_layout=CN%20Chinese%20Simpl.%20Pinyin&vk_skin=flat_gray" ></script>
</head>
<style type="text/css">
body{ overflow-x:hidden;}
</style>
<body>
<div class="xd_sz_content">
<form action="" enctype="multipart/form-data" method="post" id="formid"  onsubmit="checkdatas()">
  <table class="xd_sz1_tab">
    	<tr>
        	<td width="50%" valign="top" style="border-bottom:solid 1px #d8d8d8;">
            	<div class="sz1_sgsz fixed">
                	<div class="sz1_sgsz_left">声光设置</div>
                    <div class="sz1_sgsz_right">
                       <!-- <label class="checkbox uncheckbox">
                           <input type="checkbox"  class="jhtd_checkbox" name="voicelight_enable" />
                        </label>-->
                    </div>
                </div>
            </td>
            <td width="50%" valign="top" style="border-bottom:solid 1px #d8d8d8;">
            	<div class="sz1_jhtd fixed">
                	<div class="sz1_jhtd_left">激活通道：</div>
                    <ul class="sz1_jhtd_right">
                    	<li>
                            <label class="checkbox uncheckbox">
                               <input type="checkbox" class="jhtd_checkbox" name="voicelight_enable1"   />
                            </label>
                            <span class="jhtd_checkbox_info">通道1</span>
            			</li>
                        <li>
                            <label class="checkbox uncheckbox">
                               <input type="checkbox" class="jhtd_checkbox" name="voicelight_enable2" />
                            </label>
                            <span class="jhtd_checkbox_info">通道2</span>
            			</li>
                        <li>
                            <label class="checkbox uncheckbox">
                               <input type="checkbox" class="jhtd_checkbox" name="voicelight_enable3" />
                            </label>
                            <span class="jhtd_checkbox_info">通道3</span>
            			</li>
                        <li>
                            <label class="checkbox uncheckbox">
                               <input type="checkbox" class="jhtd_checkbox" name="voicelight_enable4" />
                            </label>
                            <span class="jhtd_checkbox_info">通道4</span>
            			</li>
                    </ul>
              </div>
            </td>
        </tr>
        <tr>
        	<td>
           		<div class="sz1_sgsz fixed">
                    <div class="sz1_sgsz_left">电话语音报警：</div>
                    <div class="sz1_sgsz_right">
                        <label class="checkbox uncheckbox">
                           <input type="checkbox" class="jhtd_checkbox" name="voice_enable"   />
                        </label>
                    </div>
                </div>
            </td>
            <td>&nbsp;</td>
        </tr>
        <tr>
        	<td valign="top">
            	<div class="dx_left">
                    <div class="sz1_sgsz fixed">
                        <div class="sz1_sgsz_left">短信报警：</div>
                        <div class="sz1_sgsz_right">
                            <label class="checkbox uncheckbox">
                           <input type="checkbox" class="jhtd_checkbox" name="phone_enable"  />
                        </label>
                        </div>
                    </div>
                    <ul class="dx_from">
                    	<li class="fixed">
                        	<span class="from_info_font">短信中心号码：</span>
                            <input type="text" name="sms_center" id="sms_center" class="dx_txt" value=""  />
                        </li>
                        <li class="fixed">
                        	<span class="from_info_font">平安短信设置：</span>
                            <input type="text"  style="width:18%;" class="dx_txt" name="sms_send" id="sms_send"  value=""  />&nbsp;(hh:mm)
                        </li>
                    </ul>
                </div>
            </td>
            <td valign="top">
            	<div class="dx_right">
                    <div class="sz1_sgsz fixed">
                        <div class="sz1_sgsz_left">邮件：</div>
                        <div class="sz1_sgsz_right">
                             <label class="checkbox uncheckbox">
                           <input type="checkbox" class="jhtd_checkbox" name="email_enable"  />
                        	</label>
                        </div>
                    </div>
                    <ul class="dx_from">
                    	<li class="fixed">
                        	<span class="from_info_font">邮件地址：</span>
                            <input type="text" name="myaddr" id="myaddr" class="dx_txt" value="" style="width:46%;" />
                        </li>
                        <li class="fixed">
                        	<span class="from_info_font">账号：</span>
                            <input type="text" name="username" id="username"  class="dx_user_txt" value="admin" />
                            <span class="from_info_font" style="width:18%; text-align:right;">密码：</span>
                            <input type="password" class="dx_pwd_txt" name="password" id="password" value="admin" />
                        </li>
                        
                         <li class="fixed">
                        	<span class="from_info_font">SMTP服务器：</span>
                           <input type="text" name="smtpaddr" id="smtpaddr" value="" class="dx_txt" style="width:80px;" />
                            
                           &nbsp;端口：<input type="text"  name="pro" id="pro" value="25" class="dx_txt2" style="width:20px;" />
                        </li>
                    </ul>
                </div>
                <input type="hidden" name="btform" value="alarm_way" />
            </td>
        </tr>
        <tr><td style="padding-top:15px; padding-bottom:15px; border-top:#d8d8d8 solid 1px;">自定义Logo：<input type="file" />(图片大小：286×71像素，图片背景：白色)</td><td style="padding-top:15px; padding-bottom:15px; border-top:#d8d8d8 solid 1px;">自定义名称：<input type="text" class="dx_txt1" style="float:none; display:inline; margin:0" /></td></tr>
        
    </table>
 
 
  <div class="xd_bz" style="top:450px; padding-bottom:15px;">
    	<div class="xd1_btn"><a onclick="btn_add()" href="javascript:void(0);" target="xd_iframe" class="xd_next a_btn1">下一步</a></div>
    </div>
 

</form>  

</div>
<!---页面内容结束-->
<script language="javascript" type="text/javascript">
var lan="cn";
function btn_add()
{
	//提交表单
	var reg1= /^[\d]{11,13}$/;//手机号码
    var reg2= /^(\w)+(\.\w+)*@(\w)+((\.\w{2,3}){1,3})$/;//邮箱
	var reg3=/([0-1][0-9]|(2[0-3])):([0-5][0-9])$/ ;
	var reg4=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;
	var reg5= /^[\d]{0,5}$/;//端口号
	
	var reg=/^([\w]|[\u4e00-\u9fa5]|[\uFF00-\uFFFF])+$/;//字母，数字，下划线，汉字
	sms_center=$("#sms_center").val();
	sms_send=$("#sms_send").val();
	myaddr=$("#myaddr").val();
	username=$("#username").val();
	smtpaddr=$("#smtpaddr").val();
	pro=$("#pro").val();
	if(sms_center!='')
	{
		var str= sms_center.substr(0,1);
		if(lan=='cn')
		{
			if(str=='+')
			{
				
				if(!( /^([0-9,+]{14})?$/.test(sms_center)) )
				{
					alert('短信中心号码格式不对！');
					$("#sms_center").focus();
					return false; 	
				}
			}else
			{
				if(!( /^(\+?)+([0-9]{11})?$/.test(sms_center)) )
				{ 
					alert('短信中心号码格式不对！');
					$("#sms_center").focus();
					return false; 	
				}
			}
		}else
		{
			if(!( /^[0-9,+]*$/.test(sms_center)) || sms_center.length>30)
			{
					alert('短信中心号码格式不对！');
					$("#sms_center").focus();
					return false; 	
			}
		}
		
	}
	if(sms_send!='' &&　!reg3.test(sms_send))
	{
		alert('平安短信时间设置格式不对！');
		$("#sms_send").focus();
		return false;
	}
	if(myaddr!='' && !reg2.test(myaddr))
	{
		
		alert('邮件地址格式不对！');
		$("#myaddr").focus();
		return false;
	}
	if(username!='' && !reg.test(username) )
	{
		
		if(!reg2.test(username))
		{
			alert('账号输入错误！');
			$("#username").focus();
			return false;
		}
		
	}
	if(smtpaddr!='' && !reg4.test(smtpaddr))
	{
		alert('请输入有效的IP地址！');
		$("#smtpaddr").focus();
		return false;
	}
	if(pro!='' && !reg5.test(pro))
	{
		alert('请输入有效的端口号！');
		$("#pro").focus();
		return false;
	}
	
		location.href='user_list1.html';
	
	
	
}
$(function(){
	$(".ico_btn").click(function(){
		//alert($(".close_btn").outerWidth(true))
		$(this).parent().parent().next().slideToggle();
		if($(this).prev(".close_btn").outerWidth(true)!=0){
				 $(this).stop(true, true).animate({"left":"0px"},200)
				 $(this).prev(".close_btn").stop(true, true).animate({"width":"0px"},200);
				// $(this).parent().parent().next().hide()//animate({heidht:'0px',overflow:hidden},200)
		}
		else{
 				$(this).animate({"left":"32px"},200)  
				$(this).prev(".close_btn").animate({"width":"60px"},200) 
				//$(this).parent().parent().next().show(200)//.animate({heidht:'0px',overflow:hidden},200)
		}
		
	})
})
function checkdatas()
{
	var reg1= /^[\d]{11,13}$/;//手机号码
    var reg2= /^(\w)+(\.\w+)*@(\w)+((\.\w{2,3}){1,3})$/;//邮箱
	var reg3=/([0-1][0-9]|(2[0-3])):([0-5][0-9])$/ ;
	
	var reg=/^([\w]|[\u4e00-\u9fa5]|[\uFF00-\uFFFF])+$/;//字母，数字，下划线，汉字
	sms_center=$("#sms_center").val();
	sms_send=$("#sms_send").val();
	myaddr=$("#myaddr").val();
	if(!reg1.test(sms_center))
	{
		
		return false;
	}
	else if(!reg3.test(sms_send))
	{
		
		return false;
	}
	else if(!reg2.test(myaddr))
	{
		
		return false;
	}
	else 
	{
		return true;
	}
	
	
}
</script>
</body>
</html>
